on:
  workflow_call:
    inputs:
      reponame:
        required: true
        type: string
    secrets:
      aws_id:
        required: true
      AWS_SECRET_ACCESS_KEY:
        required: true

jobs:
  reusable_workflow_job:
    runs-on: ubuntu-latest
    steps:
      - uses: ./.github/workflows/my-action
        with:
          username: ${{ inputs.reponame }}
          token: ${{ secrets.aws_id }}
      - name: Set Repo Envs
        run: |
          REPO_NAME=${{ inputs.reponame }}
          echo "git_repo_name=${REPO_NAME}" | tee -a $GITHUB_ENV
          echo "docker_repo_name=${REPO_NAME}" | tee -a $GITHUB_ENV
          echo "aws_id=${{ inputs.aws_id }}" | tee -a $GITHUB_ENV
